% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{generatePaintedTrees}
\alias{generatePaintedTrees}
\title{Generate Painted Subtrees for Eligible Nodes in a Phylogenetic Tree}
\usage{
generatePaintedTrees(tree, min_tips, state = "shift")
}
\arguments{
\item{tree}{An object of class \code{phylo}. If unrooted, it is rooted internally.}

\item{min_tips}{Integer (â‰¥1). Minimum number of descendant tips required for an
internal node to be considered eligible.}

\item{state}{Character scalar. The regime label to paint on each eligible subtree.
Defaults to \code{"shift"}.}
}
\value{
A named \code{list} of trees of class \code{simmap} (one per eligible node).
Names are of the form \code{"Node <n>"} where \code{<n>} is the internal node
number in the original \code{tree}. The function also prints counts of eligible
nodes and generated sub-models via \code{cat()}.
}
\description{
Identifies internal nodes in a (rooted) phylogenetic tree that have at least
a specified minimum number of descendant tips and returns a list of trees in
which each eligible node's downstream clade has been painted as a discrete
regime. Each painted tree represents a potential sub-model for further analysis.
}
\details{
If \code{tree} is unrooted, it is first rooted using the first tip as an
outgroup (\code{ape::root(..., resolve.root = TRUE)}).

Internally, the function:
\itemize{
\item Ensures the tree is rooted.
\item Scans internal nodes and keeps those with at least \code{min_tips} descendant tips
(via \code{phytools::getDescendants} and \code{ape::Ntip} / \code{ape::Nnode}).
\item Uses \code{phytools::paintSubTree} to paint the clade downstream of each eligible node
with the specified \code{state}.
}
}
\examples{
\dontrun{
  set.seed(123)
  tree <- phytools::pbtree(n = 30, scale = 1)
  painted <- generatePaintedTrees(tree, min_tips = 5, state = "shift")
  length(painted)
  names(painted)[1]
}

}
\seealso{
\code{\link[phytools]{paintSubTree}}, \code{\link[phytools]{getDescendants}},
\code{\link[ape]{Ntip}}, \code{\link[ape]{Nnode}}, \code{\link[ape]{root}}
}
